<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ã†ã•ãæ€§æ ¼è¨ºæ–­</title>
  <style>
    body {
      margin: 0;
      background: linear-gradient(180deg, #fff6ff 0%, #ffd8ef 100%);
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "ãƒ¡ã‚¤ãƒªã‚ª", sans-serif;
      min-height: 100vh;
      padding-bottom: 4rem;
    }
    .page {
      padding: 1.2rem 1.1rem 4.5rem;
    }
    h2 { margin-top: .3rem; }
    .q-num {
      font-size: .8rem;
      color: #7c6879;
      margin-bottom: .4rem;
      text-align: right;
    }
    .question-box {
      background: #fff;
      border-radius: 1.1rem;
      padding: 1rem;
      box-shadow: 0 6px 16px rgba(255,114,173,0.12);
      margin-bottom: 1rem;
      transition: opacity .3s ease;
    }
    .options button {
      width: 100%;
      text-align: left;
      background: #fff;
      border: 1px solid #ffe3f0;
      border-radius: 1rem;
      padding: .7rem .8rem;
      margin-bottom: .6rem;
      font-size: .9rem;
      display: flex;
      gap: .3rem;
      align-items: center;
      transition: background .2s ease, opacity .3s ease;
    }
    .options button:hover { background: #ffe6f2; }
    .options button:active { background: #ffd9eb; }
    .result-box {
      background: #fff;
      border-radius: 1.1rem;
      padding: 1.2rem;
      box-shadow: 0 6px 16px rgba(255,114,173,0.12);
      display: none;
      animation: fadeIn .4s ease;
    }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }
    .type-name {
      font-size: 1.3rem;
      margin-bottom: .3rem;
    }
    .desc {
      font-size: .9rem;
      color: #574344;
      margin-bottom: .5rem;
      line-height: 1.5em;
    }
    .bottom-nav {
      position: fixed;
      bottom: 0; left:0; right:0;
      height: 3.6rem;
      background: #fff;
      display: flex;
      justify-content: space-around;
      align-items: center;
      box-shadow: 0 -3px 10px rgba(0,0,0,0.05);
      border-top-left-radius: 1.1rem;
      border-top-right-radius: 1.1rem;
    }
    .nav-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      font-size: .6rem;
      color: #a39189;
      text-decoration: none;
    }
    .nav-item.active { color: #ff63a4; }
    .nav-item span:first-child { font-size: 1.3rem; line-height: 1.1rem; }
    #qText, #opts { transition: opacity .3s ease; }
  </style>
</head>
<body>
  <div class="page">
    <h2>ğŸ§¬ ã†ã•ãæ€§æ ¼è¨ºæ–­</h2>
    <p style="margin-top:0;">é£¼ã„ä¸»ã•ã‚“ãŒè¦³å¯Ÿã—ã¦ç­”ãˆã¦ã­ï¼ˆå…¨12å•ï¼‰</p>

    <div id="quiz-area">
      <div class="q-num" id="qNum"></div>
      <div class="question-box" id="qText"></div>
      <div class="options" id="opts"></div>
    </div>

    <div class="result-box" id="resultBox">
      <h3 class="type-name" id="resTitle"></h3>
      <p class="desc" id="resDetail"></p>
      <p style="font-size:.7rem;color:#7c6a6a;">â€»ã“ã®çµæœã¯ARç”»é¢ã§ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã™</p>
      <button onclick="location.href='index.html'" style="margin-top:1rem;border:none;background:#ffb6d9;border-radius:1rem;padding:.6rem 1.2rem;font-size:.9rem;">ğŸ  ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</button>
    </div>
  </div>

  <nav class="bottom-nav">
    <a class="nav-item" href="index.html">
      <span>ğŸ </span><span>ãƒ›ãƒ¼ãƒ </span>
    </a>
    <a class="nav-item" href="ar.html">
      <span>ğŸ”</span><span>AR</span>
    </a>
    <a class="nav-item active" href="personality.html">
      <span>ğŸ§¬</span><span>è¨ºæ–­</span>
    </a>
    <a class="nav-item" href="log.html">
      <span>ğŸ“Š</span><span>ãƒ­ã‚°</span>
    </a>
  </nav>

  <script>
    const quiz = [
      {q:"é£¼ã„ä¸»ãŒè¿‘ã¥ãã¨ï¼Ÿ", o:["ã™ãå¯„ã£ã¦ãã‚‹","ã¡ã‚‡ã£ã¨æ§˜å­ã‚’è¦‹ã‚‹","ã‚ã¾ã‚Šæ°—ã«ã—ãªã„"], t:["S","Sg","Sg"]},
      {q:"ã‚±ãƒ¼ã‚¸ã®å¤–ã§ã¯ï¼Ÿ", o:["è¿‘ãã§éŠã¶","ã™ã¿ã§è¦³å¯Ÿ","ã™ãæ¢æ¤œ"], t:["S","Sg","S"]},
      {q:"æ¥å®¢ãŒæ¥ãŸã‚‰ï¼Ÿ", o:["è¿‘ã¥ã","å°‘ã—é›¢ã‚Œã‚‹","éš ã‚Œã‚‹"], t:["S","Sg","Sg"]},
      {q:"æœã‚„å¤œã¯ï¼Ÿ", o:["ã‚ã£ã¡ã‚ƒå‹•ã","ã¡ã‚‡ã£ã¨ã ã‘","ã»ã¨ã‚“ã©å¯ã¦ã‚‹"], t:["A","C","C"]},
      {q:"æ–°ã—ã„ãŠã‚‚ã¡ã‚ƒ", o:["ã™ãéŠã¶","ã«ãŠã„ã‚’ã‹ã","ç„¡è¦–ã™ã‚‹"], t:["A","C","C"]},
      {q:"æƒé™¤ã®ã¨ã", o:["å›ã‚Šã‚’èµ°ã‚‹","è¦‹å®ˆã‚‹","é›¢ã‚Œã¦ä¼‘ã‚€"], t:["A","C","C"]},
      {q:"å¤§ããªéŸ³ãŒã—ãŸã‚‰ï¼Ÿ", o:["å›ºã¾ã‚‹/é€ƒã’ã‚‹","å°‘ã—æ°—ã«ã™ã‚‹","æ°—ã«ã—ãªã„"], t:["W","W","B"]},
      {q:"ã¯ã˜ã‚ã¦ã®å ´æ‰€", o:["ã‚†ã£ãã‚Šé€²ã‚€","ã™ãæ¢æ¤œ","å‹•ã‹ãšè¦³å¯Ÿ"], t:["W","B","W"]},
      {q:"ãƒˆãƒ³ãƒãƒ«ãŒã‚ã£ãŸã‚‰ï¼Ÿ", o:["ã™ãå…¥ã‚‹","æ°—åˆ†ã§å…¥ã‚‹","ä½¿ã‚ãªã„"], t:["W","B","B"]},
      {q:"ãªã§ã‚ˆã†ã¨ã™ã‚‹ã¨ï¼Ÿ", o:["é ­ã‚’å‡ºã™","æ°—åˆ†ã«ã‚ˆã‚‹","ã¡ã‚‡ã£ã¨é›¢ã‚Œã‚‹"], t:["L","L","I"]},
      {q:"åå‰ã‚’å‘¼ã¶ã¨ï¼Ÿ", o:["æ¥ã‚‹","è¦‹ã‚‹ã ã‘","ã”ã¯ã‚“ã®æ™‚ã ã‘æ¥ã‚‹"], t:["L","I","I"]},
      {q:"1ç¾½ã§ã„ã‚‹ã¨ã", o:["é£¼ã„ä¸»ã‚’è¦‹ã¦ã‚‹","å¯ã¦ã‚‹/æ¯›ã¥ãã‚ã„","ã¬ã„ãã‚‹ã¿ã‚’ãªã‚ã‚‹"], t:["L","I","L"]},
    ];

    const typeData = {
      "S-A-B-L": ["ğŸŒ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ©ãƒ–ãƒªãƒ¼ã‚¿ã‚¤ãƒ—", "ç¤¾äº¤çš„ã§å…ƒæ°—ã„ã£ã±ã„ï¼äººã¨éŠã¶ã®ãŒå¤§å¥½ããªã†ã•ãã€‚"],
      "S-A-B-I": ["ğŸ’ª ãƒªãƒ¼ãƒ€ãƒ¼ã†ã•ã‚¿ã‚¤ãƒ—", "å¥½å¥‡å¿ƒæ—ºç››ã§å ‚ã€…ã¨ã—ã¦ã„ã‚‹æ¢æ¤œå¥½ããªã†ã•ãã€‚"],
      "S-A-W-L": ["ğŸ’— ãƒ”ãƒ¥ã‚¢ãƒãƒ¼ãƒˆã‚¿ã‚¤ãƒ—", "æ˜ã‚‹ãäººãªã¤ã“ã„ã‘ã©å°‘ã—ç¹Šç´°ã€‚ã‚„ã•ã—ã„å£°ãŒå¥½ãã€‚"],
      "S-A-W-I": ["âš¡ ãƒ„ãƒ³ãƒ‡ãƒ¬ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ã‚¤ãƒ—", "å…ƒæ°—ã ã‘ã©æ°—åˆ†å±‹ã€‚ä¿¡é ¼ã—ãŸäººã«ã ã‘ç”˜ãˆã‚‹ã€‚"],
      "S-C-B-L": ["ğŸ€ ãŠã ã‚„ã‹ãƒ—ãƒªãƒ³ã‚»ã‚¹ã‚¿ã‚¤ãƒ—", "è½ã¡ç€ã„ãŸç”˜ãˆã‚“ã¼ã€‚é™ã‹ãªæ™‚é–“ã‚’å¥½ã‚€ç©ã‚„ã‹æ€§æ ¼ã€‚"],
      "S-C-B-I": ["ğŸ§˜â€â™€ï¸ ã‚¯ãƒ¼ãƒ«ã‚±ã‚¢ã‚¿ã‚¤ãƒ—", "ãƒã‚¤ãƒšãƒ¼ã‚¹ã§å¿ƒãŒåºƒã„ã€‚è½ã¡ç€ã„ãŸé›°å›²æ°—ã®ã—ã£ã‹ã‚Šè€…ã€‚"],
      "S-C-W-L": ["ğŸ«– ãƒŠã‚¤ãƒ¼ãƒ–ã‚¹ã‚¤ãƒ¼ãƒˆã‚¿ã‚¤ãƒ—", "ã¡ã‚‡ã£ã¨æ€–ãŒã‚Šã ã‘ã©å„ªã—ã„ã€‚å®ˆã£ã¦ã‚ã’ãŸããªã‚‹æ€§æ ¼ã€‚"],
      "S-C-W-I": ["ğŸ•Š ã‚·ãƒ£ã‚¤ãƒãƒ£ãƒ¼ãƒ ã‚¿ã‚¤ãƒ—", "é™ã‹ã§æ…é‡ã€‚ä¿¡é ¼ã—ãŸç›¸æ‰‹ã«ã¯ã¨ã“ã¨ã‚“æ‡ãã€‚"],
      "Sg-A-B-L": ["ğŸ¾ ã‚½ãƒ­ãƒãƒ³ã‚¿ãƒ¼ã‚¿ã‚¤ãƒ—", "è‡ªç”±ãŒå¥½ããªå†’é™ºå®¶ã‚¿ã‚¤ãƒ—ã€‚å…ƒæ°—ã§å‰å‘ãï¼"],
      "Sg-A-B-I": ["ğŸ”¥ ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚¢ãƒ‰ãƒ™ãƒ³ãƒãƒ£ãƒ¼ã‚¿ã‚¤ãƒ—", "ç‹¬ç«‹å¿ƒãŒå¼·ãã€è‡ªåˆ†ã®ä¸–ç•Œã‚’æ¥½ã—ã‚€å†’é™ºè€…ã€‚"],
      "Sg-C-W-L": ["ğŸŒ™ ãƒã‚¤ãƒšãƒ¼ã‚¹ãƒ’ãƒ¼ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ—", "ã‚†ã£ãŸã‚Šç™’ã—ç³»ã€‚ç©ã‚„ã‹ãªç©ºæ°—ã§å‘¨ã‚Šã‚’è½ã¡ç€ã‹ã›ã‚‹ã€‚"],
      "Sg-C-W-I": ["ğŸª¶ ã²ã¨ã‚Šã”ã¨å“²å­¦è€…ã‚¿ã‚¤ãƒ—", "æ…é‡ã§è¦³å¯Ÿå¥½ãã€‚é™ã‹ã«ä¸–ç•Œã‚’è¦‹ã¤ã‚ã‚‹æ€ç´¢å®¶ã€‚"],
    };

    let idx = 0;
    let score = {S:0,Sg:0,A:0,C:0,W:0,B:0,L:0,I:0};

    const qNum  = document.getElementById("qNum");
    const qText = document.getElementById("qText");
    const opts  = document.getElementById("opts");
    const resBox= document.getElementById("resultBox");
    const resTitle = document.getElementById("resTitle");
    const resDetail= document.getElementById("resDetail");

    function showQ(){
      if(idx >= quiz.length){
        showResult();
        return;
      }
      qNum.textContent = `Q${idx+1} / ${quiz.length}`;
      qText.style.opacity = 0;
      opts.style.opacity = 0;

      setTimeout(() => {
        qText.textContent = quiz[idx].q;
        opts.innerHTML = "";
        quiz[idx].o.forEach((text, i)=>{
          const btn = document.createElement("button");
          btn.innerHTML = `ğŸ° ${text}`;
          btn.onclick = ()=>answer(i);
          opts.appendChild(btn);
        });
        qText.style.opacity = 1;
        opts.style.opacity = 1;
      }, 200);
    }

    function answer(optIdx){
      const key = quiz[idx].t[optIdx];
      score[key] = (score[key]||0) + 1;
      opts.style.opacity = 0.5;
      setTimeout(()=>{
        idx++;
        showQ();
      }, 400);
    }

    function showResult(){
      document.getElementById("quiz-area").style.display = "none";
      resBox.style.display = "block";

      const social = score.S >= score.Sg ? "S" : "Sg";
      const active = score.A >= score.C ? "A" : "C";
      const wary   = score.W >= score.B ? "W" : "B";
      const love   = score.L >= score.I ? "L" : "I";
      const typeCode = `${social}-${active}-${wary}-${love}`;

      const info = typeData[typeCode] || ["ğŸ° ãƒãƒ©ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—", "ç‰¹å¾´ãŒã»ã©ã‚ˆãæ··ã–ã£ãŸãƒã‚¤ãƒšãƒ¼ã‚¹ãªã†ã•ãã€‚"];
      resTitle.textContent = info[0];
      resDetail.textContent = info[1];

      localStorage.setItem("bunnyPersonality", typeCode);
      localStorage.setItem("bunnyPersonalityName", info[0]);
    }

    showQ();
  </script>
</body>
</html>

