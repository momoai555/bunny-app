<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1.0" />
<title>うさぎ性格診断🐰</title>
<link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@500&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: "Zen Maru Gothic", sans-serif;
    background: linear-gradient(180deg, #fffaf5 0%, #ffe4e1 100%);
    color: #333;
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }
  .container {
    flex: 1;
    padding: 1.2rem;
    max-width: 600px;
    margin: 0 auto;
  }
  h1 {
    text-align: center;
    color: #553;
  }
  .question-box {
    background: #fff;
    border-radius: 1rem;
    padding: 1rem;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    margin-top: 1rem;
  }
  button {
    width: 100%;
    background: #ffb6c1;
    color: #fff;
    border: none;
    border-radius: .8rem;
    padding: .7rem;
    margin-top: .6rem;
    font-size: 1rem;
    cursor: pointer;
  }
  button:hover { background: #ff8ba0; }
  .result {
    background: #fff;
    border-radius: 1rem;
    box-shadow: 0 6px 15px rgba(0,0,0,0.1);
    padding: 1.2rem;
    margin-top: 1.5rem;
    white-space: pre-line;
  }
  .bottom-nav {
    position: fixed;
    bottom: 0; left:0; right:0;
    height: 3.6rem;
    background: #fff;
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0 -3px 10px rgba(0,0,0,0.2);
    border-top-left-radius: 1.1rem;
    border-top-right-radius: 1.1rem;
  }
  .nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    font-size: .6rem;
    color: #a39189;
    text-decoration: none;
  }
  .nav-item.active { color: #ff87b3; }
  .nav-item span:first-child { font-size: 1.3rem; line-height: 1.1rem; }
</style>
</head>
<body>
  <div class="container">
    <h1>🐰 うさぎ性格診断</h1>
    <div id="quiz"></div>
    <div id="result" class="result" style="display:none;"></div>
  </div>

  <nav class="bottom-nav">
    <a class="nav-item" href="index.html"><span>🏠</span><span>ホーム</span></a>
    <a class="nav-item" href="ar.html"><span>🔍</span><span>AR</span></a>
    <a class="nav-item active" href="personality.html"><span>🧬</span><span>診断</span></a>
    <a class="nav-item" href="graph.html"><span>📊</span><span>グラフ</span></a>
  </nav>

<script>
const questions = [
  {q:"1. うさぎが一番リラックスしている場所は？", a:[
    {t:"人のそばや足元", v:"S"},
    {t:"自分の好きな隅っこやトンネル", v:"Sg"},
  ]},
  {q:"2. 新しいおもちゃを見せると？", a:[
    {t:"すぐ近寄ってチェック！", v:"A"},
    {t:"しばらく観察してから近づく", v:"C"},
  ]},
  {q:"3. 部屋の模様替えをしたら？", a:[
    {t:"わくわくしてすぐ探検する", v:"B"},
    {t:"少し距離を置いて見ている", v:"W"},
  ]},
  {q:"4. 抱っこされたときの反応は？", a:[
    {t:"短時間なら平気。すぐ動きたがる", v:"I"},
    {t:"じっとしているけど表情は静か", v:"L"},
  ]},
  {q:"5. 飼い主が部屋に入ってきたら？", a:[
    {t:"すぐ寄ってくる", v:"S"},
    {t:"こっそり様子を見る", v:"Sg"},
  ]},
  {q:"6. おやつを見せると？", a:[
    {t:"瞬時に反応して立ち上がる", v:"A"},
    {t:"少し考えてから近づく", v:"C"},
  ]},
  {q:"7. 来客が来たときの反応は？", a:[
    {t:"興味津々で近くまで来る", v:"B"},
    {t:"安全な距離をとって観察する", v:"W"},
  ]},
  {q:"8. ケージ掃除中は？", a:[
    {t:"掃除道具にちょっかいを出す", v:"I"},
    {t:"静かに待っている", v:"L"},
  ]},
  {q:"9. 新しい環境に慣れるスピードは？", a:[
    {t:"早い！1日で慣れる", v:"A"},
    {t:"ゆっくり。数日かかる", v:"C"},
  ]},
  {q:"10. 人がなでているときの様子は？", a:[
    {t:"もっと！と頭を押し付けてくる", v:"S"},
    {t:"心地よさそうに目を細める", v:"Sg"},
  ]},
  {q:"11. 驚いたときのリアクションは？", a:[
    {t:"すぐ動いて確認に行く", v:"B"},
    {t:"固まって静かにする", v:"W"},
  ]},
  {q:"12. 朝と夜でテンションが変わる？", a:[
    {t:"朝も夜も元気いっぱい", v:"I"},
    {t:"夜にまったりモード", v:"L"},
  ]},
];

const typeData = {
  "S-A-B-L":["🌞 アクティブラブリータイプ","人懐っこくて元気！遊びと人が大好きな陽気うさぎ。運動が足りないと少しわがままモードになるので、毎日のふれあいを大事にしてね。"],
  "S-A-B-I":["💪 リーダーうさタイプ","冒険心旺盛で“みんな俺に任せろ”タイプ。先頭で走るけど、飼い主をちゃんと確認してるリーダー肌。"],
  "S-A-W-L":["💗 ピュアハートタイプ","人も環境も大好きだけど、刺激が強いと少し不安になりがち。優しく声をかけて安心感を与えると一気に甘えモードに。"],
  "S-A-W-I":["⚡ ツンデレアクティブタイプ","甘えたいけど気まぐれ。なでたいときは“本人から来たタイミング”を逃さないのがコツ。"],
  "S-C-B-L":["🍀 おだやかプリンセスタイプ","落ち着きがあって上品。マイペースで穏やかな空気を作る癒し系。おやつタイムがルーティン。"],
  "S-C-B-I":["🧘‍♀️ クールケアタイプ","人のことをよく見ていて、静かに寄り添う大人タイプ。ベタベタよりそっと一緒に過ごすのが◎。"],
  "S-C-W-L":["🫖 ナイーブスイートタイプ","優しいけれど音や匂いに敏感。静かな環境が一番の幸せ。なでるとすぐうっとり顔になる。"],
  "S-C-W-I":["🕊 シャイチャームタイプ","繊細で奥ゆかしい子。信頼した人にだけ見せる甘え顔が最高のご褒美。"],
  "Sg-A-B-L":["🐾 ソロハンタータイプ","ひとり遊びが上手な自由人うさぎ。放っておいても楽しそう。でも、見守られてるとちょっと安心。"],
  "Sg-A-B-I":["🔥 ワイルドアドベンチャータイプ","好奇心MAXの探検家。外に出るとテンション上がる！だけど撫でられるより走りたい派。"],
  "Sg-C-W-L":["🌙 マイペースヒーラータイプ","静かで穏やか、ゆっくりとした時間が好き。飼い主の気分を察してそばに来る優しい子。"],
  "Sg-C-W-I":["🪶 ひとりごと哲学者タイプ","観察好きで慎重派。静かな隅っこが安心。自分から来た日は思いっきり褒めてあげよう。"]
};

let answers = [];
let qIndex = 0;
const quiz = document.getElementById("quiz");
const result = document.getElementById("result");

function showQuestion(){
  if(qIndex >= questions.length){ showResult(); return; }
  const q = questions[qIndex];
  quiz.innerHTML = `
    <div class="question-box">
      <p><b>Q${qIndex+1}.</b> ${q.q}</p>
      ${q.a.map((opt)=>`<button onclick="choose('${opt.v}')">${opt.t}</button>`).join('')}
    </div>
  `;
}

function choose(v){
  answers.push(v);
  qIndex++;
  showQuestion();
}

function showResult(){
  const count = {S:0,Sg:0,A:0,C:0,B:0,W:0,I:0,L:0};
  answers.forEach(v=>count[v]++);
  const keys = [
    count.S>=count.Sg?"S":"Sg",
    count.A>=count.C?"A":"C",
    count.B>=count.W?"B":"W",
    count.I>=count.L?"I":"L"
  ];
  const code = keys.join("-");
  const info = typeData[code] || ["🐰 バランスタイプ", "特徴がほどよく混ざったマイペースなうさぎ。"];
  quiz.style.display="none";
  result.style.display="block";
  result.innerHTML = `<h2>${info[0]}</h2><p>${info[1]}</p><br><button onclick="restart()">もう一度診断する</button>`;
}

function restart(){
  answers = [];
  qIndex = 0;
  quiz.style.display="block";
  result.style.display="none";
  showQuestion();
}

showQuestion();
</script>
</body>
</html>
